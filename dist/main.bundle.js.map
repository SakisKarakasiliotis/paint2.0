{"version":3,"sources":["webpack:///webpack/bootstrap e53b3c0d25154c91347a","webpack:///./src/js/main.js","webpack:///./src/js/classes/paint.js","webpack:///./src/js/classes/DOM.js"],"names":["_","pCanvas","canvas","color","size","exportAsPNG","reset","tool","window","addEventListener","setup","value","onchange","e","strokeStyle","target","linewidth","onclick","location","href","toDataURL","replace","mode","Paint","element","width","height","_element","_drawing","_mousePosition","x","y","_previousPosition","_ctx","getContext","_strokeStyle","_linewidth","_mode","_memory","document","createElement","_memoryCtx","listener","drawloop","save","isset","console","error","restore","event","rect","getBoundingClientRect","clientX","left","clientY","top","type","getMousePosition","beginPath","globalCompositeOperation","lineWidth","lineCap","moveTo","lineTo","stroke","closePath","fillStyle","Math","abs","fill","requestAnimationFrame","render","clearRect","parameter","drawImage","DOM","selectors","selectorType","indexOf","substr","length"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e53b3c0d25154c91347a","import Paint from './classes/paint.js';\r\nimport DOM from './classes/DOM.js';\r\nconst _ = DOM._;\r\n\r\nlet pCanvas;\r\nlet canvas = _(\"#paintArea\");\r\nlet color = _(\"#color\");\r\nlet size = _(\"#size\");\r\nlet exportAsPNG = _(\"#export\");\r\nlet reset = _(\"#reset\");\r\nlet tool = _(\"#tool\");\r\n\r\nwindow.addEventListener(\"load\", setup);\r\n\r\n\r\nfunction setup() {\r\n\r\n    pCanvas = new Paint(canvas, 1024, 652, color.value, size.value);\r\n    color.onchange = (e) => {\r\n        pCanvas.strokeStyle = e.target.value\r\n    };\r\n    size.onchange = (e) => {\r\n        pCanvas.linewidth = e.target.value\r\n    };\r\n    exportAsPNG.onclick = () => {\r\n        window.location.href = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n    };\r\n    reset.onclick = () => {\r\n        pCanvas.reset();\r\n    };\r\n    tool.onclick = (e) => {\r\n        pCanvas.mode = e.target.value;\r\n    };\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Paint {\r\n\r\n\r\n    constructor(element, width, height, strokeStyle, linewidth) {\r\n        this._element = element;\r\n        this._element.width = width;\r\n        this._element.height = height;\r\n        this._drawing = false;\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._ctx = this.element.getContext(\"2d\");\r\n        this._strokeStyle = strokeStyle;\r\n        this._linewidth = linewidth;\r\n        this._mode = \"free\";\r\n        this._memory = document.createElement('canvas');\r\n        this._memoryCtx = this._memory.getContext('2d');\r\n        this._element.addEventListener(\"mousedown\", (e) => this.listener(e));\r\n        this._element.addEventListener(\"mouseup\", (e) => this.listener(e));\r\n        this._element.addEventListener(\"mousemove\", (e) => this.listener(e));\r\n        this.drawloop();\r\n    }\r\n\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    set element(value) {\r\n        this._element = value;\r\n    }\r\n\r\n    get strokeStyle() {\r\n        return this._strokeStyle;\r\n    }\r\n\r\n    set strokeStyle(value) {\r\n        this._strokeStyle = value;\r\n    }\r\n\r\n    get linewidth() {\r\n        return this._linewidth;\r\n    }\r\n\r\n    set linewidth(value) {\r\n        this._linewidth = value;\r\n    }\r\n\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n\r\n    set mode(value) {\r\n        this._mode = value;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.save();\r\n        if (this.isset(width) && this.isset(height)) {\r\n            if (width <= 0 || height <= 0) {\r\n                console.error(\"Invalid parameters on resize()\");\r\n                return 0;\r\n            }\r\n            this._element.width = width;\r\n            this._element.height = height;\r\n            this.restore();\r\n            return 1;\r\n        }\r\n        console.error(\"Parameter missing on resize()\");\r\n        return 0;\r\n    }\r\n\r\n    getMousePosition(event) {\r\n        let rect = this._element.getBoundingClientRect();\r\n        return {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n    }\r\n\r\n    listener(event) {\r\n        if (event.type === 'mousedown') {\r\n            this._drawing = true;\r\n            this._previousPosition = this.getMousePosition(event);\r\n        } else if (event.type === 'mouseup') {\r\n            this._drawing = false;\r\n        } else if (event.type === 'mousemove') {\r\n            this._mousePosition = this.getMousePosition(event);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this._drawing) {\r\n            if (this._mode === \"free\"\r\n                || this._mode === \"eraser\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.globalCompositeOperation = this._mode === \"eraser\" ? 'destination-out' : 'source-over';\r\n                this._ctx.strokeStyle = this._mode === \"eraser\" ? \"rgba(0,0,0,1)\" : this._strokeStyle;\r\n                this._ctx.lineWidth = this._linewidth;\r\n                this._ctx.lineCap = 'round';\r\n                this._ctx.moveTo(this._previousPosition.x, this._previousPosition.y);\r\n                this._ctx.lineTo(this._mousePosition.x, this._mousePosition.y);\r\n                this._ctx.stroke();\r\n                this._ctx.closePath();\r\n                this._previousPosition = this._mousePosition;\r\n            } else if (this._mode === \"rect\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.fillStyle = this._strokeStyle;\r\n                this._ctx.rect(\r\n                    this._mousePosition.x,\r\n                    this._mousePosition.y,\r\n                    Math.abs(this._mousePosition.x - this._previousPosition.x),\r\n                    Math.abs(this._mousePosition.y - this._previousPosition.y)\r\n                );\r\n                this._ctx.fill();\r\n                this._ctx.closePath();\r\n            }\r\n        }\r\n    }\r\n\r\n    drawloop() {\r\n        requestAnimationFrame(() => this.drawloop());\r\n        this.render();\r\n    }\r\n\r\n    reset() {\r\n        this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n        this._ctx.beginPath();\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._ctx.closePath();\r\n    }\r\n\r\n    isset(parameter) {\r\n        return typeof parameter !== 'undefined';\r\n    }\r\n\r\n    save() {\r\n        this._memory.width = this._element.width;\r\n        this._memory.height = this._element.height;\r\n        this._memoryCtx.drawImage(this._element, 0, 0);\r\n    }\r\n\r\n    restore() {\r\n        this._ctx.drawImage(this._memory, 0, 0);\r\n    }\r\n\r\n    //TODO: Export canvas to PNG format\r\n    export() {\r\n\r\n    }\r\n}\r\n\r\nexport default Paint;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/paint.js","class DOM{\r\n     static _(selectors){\r\n        let selectorType = 'querySelectorAll';\r\n        if (selectors.indexOf('#') === 0) {\r\n            selectorType = 'getElementById';\r\n            selectors = selectors.substr(1, selectors.length);\r\n        }\r\n        return document[selectorType](selectors);\r\n    }\r\n}\r\n\r\nexport default DOM;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/DOM.js"],"sourceRoot":""}