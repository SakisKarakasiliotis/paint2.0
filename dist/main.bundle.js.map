{"version":3,"sources":["webpack:///webpack/bootstrap 00e81d52f917c9fc4c15","webpack:///./src/js/main.js","webpack:///./src/js/classes/paint.js","webpack:///./src/js/classes/DOM.js"],"names":["pCanvas","_","window","addEventListener","setup","canvas","color","size","exportAsPNG","reset","tool","value","onchange","e","strokeStyle","target","linewidth","onclick","location","href","toDataURL","replace","resize","mode","Paint","element","width","height","self","_element","_drawing","_mousePosition","x","y","_previousPosition","_ctx","getContext","_strokeStyle","_linewidth","_mode","_memory","document","createElement","_memoryCtx","listener","drawloop","save","isset","console","error","restore","event","rect","getBoundingClientRect","clientX","left","clientY","top","type","getMousePosition","beginPath","lineWidth","moveTo","lineTo","stroke","closePath","fillStyle","Math","abs","fill","requestAnimationFrame","render","clearRect","parameter","drawImage","DOM","selectors","selectorType","indexOf","substr","length"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 00e81d52f917c9fc4c15","import Paint from './classes/paint.js';\r\nimport DOM from './classes/DOM.js';\r\n\r\nlet pCanvas;\r\nlet _ = DOM._;\r\n\r\nwindow.addEventListener(\"load\", setup);\r\n\r\n\r\nfunction setup() {\r\n    let canvas = _(\"#paintArea\");\r\n    let color = _(\"#color\");\r\n    let size = _(\"#size\");\r\n    let exportAsPNG = _(\"#export\");\r\n    let reset = _(\"#reset\");\r\n    let tool = _(\"#tool\");\r\n    pCanvas = new Paint(canvas, 1024, 532, color.value, size.value);\r\n    color.onchange = (e) => {\r\n        pCanvas.strokeStyle = e.target.value\r\n    };\r\n    size.onchange = (e) => {\r\n        pCanvas.linewidth = e.target.value\r\n    };\r\n    exportAsPNG.onclick = () => {\r\n        window.location.href = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n    };\r\n    reset.onclick = () => {\r\n        // pCanvas.reset();\r\n        pCanvas.resize(500, 250);\r\n    };\r\n    tool.onclick = (e) => {\r\n        pCanvas.mode = e.target.value;\r\n    };\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Paint {\r\n\r\n\r\n    constructor(element, width, height, strokeStyle, linewidth) {\r\n        const self = this;\r\n        this._element = element;\r\n        this._element.width = width;\r\n        this._element.height = height;\r\n        this._drawing = false;\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._ctx = this.element.getContext(\"2d\");\r\n        this._strokeStyle = strokeStyle;\r\n        this._linewidth = linewidth;\r\n        this._mode = \"free\";\r\n        this._memory = document.createElement('canvas');\r\n        this._memoryCtx = this._memory.getContext('2d');\r\n        this._element.addEventListener(\"mousedown\", (e) => self.listener(e));\r\n        this._element.addEventListener(\"mouseup\", (e) => self.listener(e));\r\n        this._element.addEventListener(\"mousemove\", (e) => self.listener(e));\r\n        this.drawloop();\r\n    }\r\n\r\n\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    set element(value) {\r\n        this._element = value;\r\n    }\r\n\r\n    get strokeStyle() {\r\n        return this._strokeStyle;\r\n    }\r\n\r\n    set strokeStyle(value) {\r\n        this._strokeStyle = value;\r\n    }\r\n\r\n    get linewidth() {\r\n        return this._linewidth;\r\n    }\r\n\r\n    set linewidth(value) {\r\n        this._linewidth = value;\r\n    }\r\n\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n\r\n    set mode(value) {\r\n        this._mode = value;\r\n    }\r\n    //TODO: FIX don't lose data on resize\r\n    resize(width, height) {\r\n        this.save();\r\n        if (this.isset(width) && this.isset(height)) {\r\n            if (width <= 0 || height <= 0) {\r\n                console.error(\"Invalid parameters on resize()\");\r\n                return 0;\r\n            }\r\n            this._element.width = width;\r\n            this._element.height = height;\r\n            this.restore();\r\n            return 1;\r\n        }\r\n        console.error(\"Parameter missing on resize()\");\r\n        return 0;\r\n\r\n    }\r\n\r\n    getMousePosition(event) {\r\n        let rect = this._element.getBoundingClientRect();\r\n        return {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n    }\r\n\r\n    listener(event) {\r\n        if (event.type === 'mousedown') {\r\n            this._drawing = true;\r\n            this._previousPosition = this.getMousePosition(event);\r\n        } else if (event.type === 'mouseup') {\r\n            this._drawing = false;\r\n        } else if (event.type === 'mousemove') {\r\n            this._mousePosition = this.getMousePosition(event);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this._drawing) {\r\n            if (this._mode === \"free\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.strokeStyle = this._strokeStyle;\r\n                this._ctx.lineWidth = this._linewidth;\r\n                this._ctx.moveTo(this._previousPosition.x, this._previousPosition.y);\r\n                this._ctx.lineTo(this._mousePosition.x, this._mousePosition.y);\r\n                this._ctx.stroke();\r\n                this._ctx.closePath();\r\n                this._previousPosition = this._mousePosition;\r\n            } else if (this._mode === \"rect\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.fillStyle = this._strokeStyle;\r\n                this._ctx.rect(\r\n                    this._mousePosition.x,\r\n                    this._mousePosition.y,\r\n                    Math.abs(this._mousePosition.x - this._previousPosition.x),\r\n                    Math.abs(this._mousePosition.y - this._previousPosition.y)\r\n                );\r\n                this._ctx.fill();\r\n                this._ctx.closePath();\r\n            }\r\n        }\r\n    }\r\n\r\n    drawloop() {\r\n        requestAnimationFrame(() => this.drawloop());\r\n        this.render();\r\n    }\r\n\r\n    reset() {\r\n        this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n        this._ctx.beginPath();\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._ctx.closePath();\r\n\r\n    }\r\n\r\n    isset(parameter) {\r\n        return typeof parameter !== 'undefined';\r\n    }\r\n\r\n    save(){\r\n        // this._ctx.save();\r\n        this._memory.width = this._element.width;\r\n        this._memory.height = this._element.height;\r\n        this._memoryCtx.drawImage(this._element, 0, 0);\r\n    }\r\n\r\n    restore(){\r\n        // this._ctx.restore();\r\n        this._ctx.drawImage(this._memory, 0, 0);\r\n    }\r\n    //TODO: Export canvas to PNG format\r\n    export(){\r\n\r\n    }\r\n}\r\n\r\nexport default Paint;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/paint.js","class DOM{\r\n    constructor(){\r\n\r\n    }\r\n\r\n     static _(selectors){\r\n        let selectorType = 'querySelectorAll';\r\n\r\n        if (selectors.indexOf('#') === 0) {\r\n            selectorType = 'getElementById';\r\n            selectors = selectors.substr(1, selectors.length);\r\n        }\r\n\r\n        return document[selectorType](selectors);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default DOM;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/DOM.js"],"sourceRoot":""}