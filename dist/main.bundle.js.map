{"version":3,"sources":["webpack:///webpack/bootstrap d8ae9c885219fd063843","webpack:///./src/js/main.js","webpack:///./src/js/classes/paint.js","webpack:///./src/js/classes/DOM.js"],"names":["_","_t","toggleClass","pCanvas","canvas","color","size","exportAsPNG","reset","tool","dragging","window","addEventListener","setup","value","modes","forEach","mode","innerHTML","document","onmousedown","event","rect","getBoundingClientRect","a","x","clientX","left","y","clientY","top","width","height","onmouseup","console","log","resize","onmouseover","onkeydown","e","eventobj","key","ctrlKey","shiftKey","undo","redo","onchange","strokeStyle","target","linewidth","onclick","location","href","toDataURL","replace","Paint","element","backgroundColor","_element","_strokeStyle","_linewidth","_backgroundColor","_drawing","_mousePosition","_previousPosition","_ctx","getContext","_mode","fillStyle","fillRect","_modes","_undo","push","_redo","listener","drawloop","save","memory","createElement","memoryCtx","drawImage","isset","error","type","getMousePosition","beginPath","globalCompositeOperation","lineWidth","lineCap","moveTo","lineTo","stroke","closePath","quadrant","Math","abs","fill","requestAnimationFrame","render","clearRect","parameter","list","keepRedo","pop","length","img","src","onload","restore","DOM","selectors","selectorType","indexOf","substr","el","className","classList","contains","add","remove","toggle"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d8ae9c885219fd063843","import Paint from './classes/paint.js';\r\nimport DOM from './classes/DOM.js';\r\n\r\nconst _ = DOM._;\r\nconst _t = DOM.toggleClass;\r\n\r\nlet pCanvas;\r\nlet canvas = _(\"#paintArea\");\r\nlet color = _(\"#color\");\r\nlet size = _(\"#size\");\r\nlet exportAsPNG = _(\"#export\");\r\nlet reset = _(\"#reset\");\r\nlet tool = _(\"#tool\");\r\nlet dragging = true;\r\n\r\n\r\nwindow.addEventListener(\"load\", setup);\r\n\r\n\r\nfunction setup() {\r\n\r\n    pCanvas = new Paint(canvas, 1024, 652, color.value, size.value);\r\n    pCanvas.modes.forEach((mode) =>\r\n        tool.innerHTML += `<option value=\"${mode}\">${mode}</option>`\r\n    );\r\n\r\n    // TODO: add in class logic + bound to fathers size\r\n    document.onmousedown = (event) => {\r\n        let rect = canvas.getBoundingClientRect();\r\n        let a =  {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n\r\n        if(a.x >= canvas.width\r\n            && a.x < canvas.width + 10\r\n            && a.y >= canvas.height\r\n            && a.y < canvas.height + 10){\r\n\r\n            dragging = true;\r\n\r\n        }\r\n\r\n    };\r\n\r\n    document.onmouseup = (event) => {\r\n        console.log(event);\r\n        if(!dragging) return;\r\n        dragging = !dragging;\r\n        let rect = canvas.getBoundingClientRect();\r\n        let a =  {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n        pCanvas.resize(a.x, a.y);\r\n        _t(_(\"#main\"), \"draggable\");\r\n        _t(canvas, \"draggable\")\r\n\r\n\r\n    };\r\n\r\n    document.onmouseover = (event) => {\r\n        let rect = canvas.getBoundingClientRect();\r\n        let a =  {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n\r\n        if(a.x >= canvas.width\r\n            && a.x < canvas.width + 10\r\n            && a.y >= canvas.height\r\n            && a.y < canvas.height + 10){\r\n\r\n            _t(_(\"#main\"), \"draggable\");\r\n            _t(canvas, \"draggable\")\r\n        }\r\n    }\r\n\r\n    document.onkeydown = (e) => {\r\n        let eventobj = window.event ? window.event : e;\r\n        if (eventobj.key === 'z' && eventobj.ctrlKey && !eventobj.shiftKey) {\r\n            pCanvas.undo();\r\n        }\r\n        else if (eventobj.key === 'Z' && eventobj.ctrlKey && eventobj.shiftKey) {\r\n            pCanvas.redo();\r\n        }\r\n    };\r\n\r\n    color.onchange = (e) => {\r\n        pCanvas.strokeStyle = e.target.value\r\n    };\r\n    size.onchange = (e) => {\r\n        pCanvas.linewidth = e.target.value\r\n    };\r\n    exportAsPNG.onclick = () => {\r\n        window.location.href = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n    };\r\n    reset.onclick = () => {\r\n        pCanvas.reset();\r\n    };\r\n    tool.onclick = (e) => {\r\n        pCanvas.mode = e.target.value;\r\n    };\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Paint {\r\n\r\n    constructor(element, width=500, height=500, strokeStyle='#ccc', linewidth='5', backgroundColor='#ffffff') {\r\n        // User parameters\r\n        this._element = element;\r\n        this._element.width = width;\r\n        this._element.height = height;\r\n        this._strokeStyle = strokeStyle;\r\n        this._linewidth = linewidth;\r\n        this._backgroundColor = backgroundColor;\r\n        // Utility parameters\r\n        this._drawing = false;\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._previousPosition = {};\r\n        this._ctx = this._element.getContext(\"2d\");\r\n        this._mode = 'free';\r\n        this._ctx.fillStyle = this._backgroundColor;\r\n        this._ctx.fillRect(0, 0, this._element.width, this._element.height);\r\n        // Helpers\r\n        this._modes = [\r\n            'free',\r\n            'rect',\r\n            'eraser',\r\n            'line',\r\n        ];\r\n        this._undo = [];\r\n        this._undo.push(this._element.toDataURL());\r\n        this._redo = [];\r\n        // Listeners\r\n        this._element.addEventListener(\"mousedown\", (e) => this.listener(e));\r\n        this._element.addEventListener(\"mouseup\", (e) => this.listener(e));\r\n        this._element.addEventListener(\"mousemove\", (e) => this.listener(e));\r\n        this._element.addEventListener(\"mouseout\", (e) => this.listener(e));\r\n        // Init paint\r\n        this.drawloop();\r\n    }\r\n\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    set element(value) {\r\n        this._element = value;\r\n    }\r\n\r\n    get strokeStyle() {\r\n        return this._strokeStyle;\r\n    }\r\n\r\n    set strokeStyle(value) {\r\n        this._strokeStyle = value;\r\n    }\r\n\r\n    get linewidth() {\r\n        return this._linewidth;\r\n    }\r\n\r\n    set linewidth(value) {\r\n        this._linewidth = value;\r\n    }\r\n\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n\r\n    set mode(value) {\r\n        this._mode = value;\r\n    }\r\n\r\n    get modes() {\r\n        return this._modes;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.save();\r\n        const memory = document.createElement('canvas');\r\n        let memoryCtx = memory.getContext('2d');\r\n        memory.width = this._element.width;\r\n        memory.height = this._element.height;\r\n        memoryCtx.drawImage(this._element, 0, 0);\r\n        if (this.isset(width) && this.isset(height)) {\r\n            if (width <= 0 || height <= 0) {\r\n                console.error(\"Invalid parameters on resize()\");\r\n                return 0;\r\n            }\r\n            this._element.width = width;\r\n            this._element.height = height;\r\n            this._ctx.fillStyle = this._backgroundColor;\r\n            this._ctx.fillRect(0, 0, this._element.width, this._element.height);\r\n            this._ctx.drawImage(memory, 0, 0);\r\n\r\n            return 1;\r\n        }\r\n        console.error(\"Parameter missing on resize()\");\r\n        return 0;\r\n    }\r\n\r\n    getMousePosition(event) {\r\n        let rect = this._element.getBoundingClientRect();\r\n        return {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n    }\r\n\r\n    listener(event) {\r\n        if(event.type === 'mouseout'){\r\n            this._drawing = false;\r\n        }\r\n        if (this._mode === 'line'\r\n            || this.mode === 'rect') {\r\n            if (event.type === 'mousedown') {\r\n                this._drawing = false;\r\n                this._previousPosition = this.getMousePosition(event);\r\n            } else if (event.type === 'mouseup') {\r\n                this.save();\r\n                this._drawing = true;\r\n                this._mousePosition = this.getMousePosition(event);\r\n            }\r\n        } else {\r\n            if (event.type === 'mousedown') {\r\n                this.save();\r\n                this._drawing = true;\r\n                this._previousPosition = this.getMousePosition(event);\r\n            } else if (event.type === 'mouseup') {\r\n                this._drawing = false;\r\n            } else if (event.type === 'mousemove') {\r\n                this._mousePosition = this.getMousePosition(event);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this._drawing) {\r\n            if (this._mode === \"free\"\r\n                || this._mode === \"eraser\"\r\n                || this._mode === 'line') {\r\n                this._ctx.beginPath();\r\n                this._ctx.globalCompositeOperation = this._mode === \"eraser\" ? 'destination-out' : 'source-over';\r\n                this._ctx.strokeStyle = this._mode === \"eraser\" ? \"rgba(0,0,0,1)\" : this._strokeStyle;\r\n                this._ctx.lineWidth = this._linewidth;\r\n                this._ctx.lineCap = 'round';\r\n                this._ctx.moveTo(this._previousPosition.x, this._previousPosition.y);\r\n                this._ctx.lineTo(this._mousePosition.x, this._mousePosition.y);\r\n                this._ctx.stroke();\r\n                this._ctx.closePath();\r\n                this._previousPosition = this._mode === 'line' ? {} : this._mousePosition;\r\n            } else if (this._mode === \"rect\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.fillStyle = this._strokeStyle;\r\n                const quadrant = {\r\n                    x: this._mousePosition.x < this._previousPosition.x\r\n                        ? this._mousePosition.x : this._previousPosition.x,\r\n                    y: this._mousePosition.y < this._previousPosition.y\r\n                        ? this._mousePosition.y : this._previousPosition.y\r\n                };\r\n                this._ctx.rect(\r\n                    quadrant.x,\r\n                    quadrant.y,\r\n                    Math.abs(this._mousePosition.x - this._previousPosition.x),\r\n                    Math.abs(this._mousePosition.y - this._previousPosition.y)\r\n                );\r\n                this._ctx.fill();\r\n                this._ctx.closePath();\r\n                this._drawing = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawloop() {\r\n        requestAnimationFrame(() => this.drawloop());\r\n        this.render();\r\n    }\r\n\r\n    reset() {\r\n        this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n        this._ctx.beginPath();\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._ctx.closePath();\r\n        this._undo = [];\r\n        this._redo = [];\r\n    }\r\n\r\n    isset(parameter) {\r\n        return typeof parameter !== 'undefined';\r\n    }\r\n\r\n    // Much needed credits for undo/redo functionality https://codepen.io/abidibo/\r\n    save(list = this._undo, keepRedo = false) {\r\n        if (!keepRedo)\r\n            this._redo = [];\r\n        list.push(this._element.toDataURL());\r\n    }\r\n\r\n    restore(pop, push, resize = false) {\r\n        if (pop.length && !resize) {\r\n            this.save(push, true);\r\n            const reset = pop.pop();\r\n            let img = document.createElement('img');\r\n            img.src = reset;\r\n            img.onload = () => {\r\n                this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n                this._ctx.beginPath();\r\n                this._ctx.closePath();\r\n                this._ctx.drawImage(img, 0, 0, this._element.width, this._element.height, 0, 0, this._element.width, this._element.height);\r\n            };\r\n        } else if (resize) {\r\n            while (pop.length > 1) {\r\n                pop.pop();\r\n            }\r\n            this.restore(pop, push);\r\n        }\r\n    }\r\n\r\n    undo() {\r\n        this.restore(this._undo, this._redo);\r\n    }\r\n\r\n    redo() {\r\n        this.restore(this._redo, this._undo);\r\n    }\r\n\r\n    //TODO: Export canvas to PNG format\r\n    export() {\r\n\r\n    }\r\n}\r\n\r\nexport default Paint;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/paint.js","class DOM {\r\n    static _(selectors) {\r\n        let selectorType = 'querySelectorAll';\r\n        if (selectors.indexOf('#') === 0) {\r\n            selectorType = 'getElementById';\r\n            selectors = selectors.substr(1, selectors.length);\r\n        }\r\n        return document[selectorType](selectors);\r\n    }\r\n\r\n    static hasClass(el, className) {\r\n        return el.classList.contains(className);\r\n    }\r\n\r\n    static addClass(el, className) {\r\n        el.classList.add(className);\r\n    }\r\n\r\n    static removeClass(el, className) {\r\n        el.classList.remove(className);\r\n    }\r\n\r\n    static toggleClass(el, className) {\r\n        el.classList.toggle(className);\r\n    }\r\n}\r\n\r\nexport default DOM;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/DOM.js"],"sourceRoot":""}