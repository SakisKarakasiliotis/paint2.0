{"version":3,"sources":["webpack:///webpack/bootstrap c61502fb51da38d61871","webpack:///./src/js/main.js","webpack:///./src/js/classes/paint.js","webpack:///./src/js/classes/DOM.js","webpack:///./src/js/classes/hook.js"],"names":["_","pCanvas","canvas","color","size","exportAsPNG","reset","tool","window","addEventListener","setup","value","modes","forEach","mode","innerHTML","document","onkeydown","e","eventobj","event","key","ctrlKey","shiftKey","undo","redo","onchange","strokeStyle","target","linewidth","onclick","export","Paint","element","width","height","backgroundColor","hooks","_hooks","call","_element","_strokeStyle","_linewidth","_backgroundColor","_drawing","_dragging","_mousePosition","x","y","_previousPosition","_ctx","getContext","_mode","fillStyle","fillRect","_modes","_undo","push","toDataURL","_redo","listeners","listener","addResizeListeners","drawloop","save","memory","createElement","memoryCtx","drawImage","isset","console","error","rect","getBoundingClientRect","pos","clientX","left","clientY","top","type","getMousePosition","beginPath","globalCompositeOperation","lineWidth","lineCap","moveTo","lineTo","stroke","closePath","quadrant","Math","abs","fill","requestAnimationFrame","render","clearRect","parameter","list","keepRedo","pop","resize","length","img","src","onload","restore","location","href","replace","onmousedown","onmouseup","onmousemove","hook","callback","args","DOM","selectors","selectorType","indexOf","substr","el","className","classList","contains","add","remove","toggle","Hook","time","_event","_time","_callback","_args","timings","events","timing"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c61502fb51da38d61871","import Paint from './classes/paint.js';\r\nimport DOM from './classes/DOM.js';\r\nimport {hooks} from './classes/hook.js';\r\n\r\nconst _ = DOM._;\r\n\r\nlet pCanvas;\r\nlet canvas = _(\"#paintArea\");\r\nlet color = _(\"#color\");\r\nlet size = _(\"#size\");\r\nlet exportAsPNG = _(\"#export\");\r\nlet reset = _(\"#reset\");\r\nlet tool = _(\"#tool\");\r\n\r\n\r\nwindow.addEventListener(\"load\", setup);\r\n\r\n\r\nfunction setup() {\r\n\r\n    pCanvas = new Paint(canvas, 1024, 652, color.value, size.value, '#ffffff', hooks);\r\n    pCanvas.modes.forEach((mode) =>\r\n        tool.innerHTML += `<option value=\"${mode}\">${mode}</option>`\r\n    );\r\n\r\n    document.onkeydown = (e) => {\r\n        let eventobj = window.event ? window.event : e;\r\n        if (eventobj.key === 'z' && eventobj.ctrlKey && !eventobj.shiftKey) {\r\n            pCanvas.undo();\r\n        }\r\n        else if (eventobj.key === 'Z' && eventobj.ctrlKey && eventobj.shiftKey) {\r\n            pCanvas.redo();\r\n        }\r\n    };\r\n\r\n    color.onchange = (e) => {\r\n        pCanvas.strokeStyle = e.target.value\r\n    };\r\n    size.onchange = (e) => {\r\n        pCanvas.linewidth = e.target.value\r\n    };\r\n    exportAsPNG.onclick = () => {\r\n        pCanvas.export();\r\n    };\r\n    reset.onclick = () => {\r\n        pCanvas.reset();\r\n    };\r\n    tool.onclick = (e) => {\r\n        pCanvas.mode = e.target.value;\r\n    };\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Paint {\r\n    constructor(element, width = 500, height = 500, strokeStyle = '#ccc', linewidth = '5', backgroundColor = '#ffffff', hooks = {}) {\r\n        this._hooks = hooks;\r\n        this.call(\"beforeCreate\");\r\n        // User parameters\r\n        this._element = element;\r\n        this._element.width = width;\r\n        this._element.height = height;\r\n        this._strokeStyle = strokeStyle;\r\n        this._linewidth = linewidth;\r\n        this._backgroundColor = backgroundColor;\r\n        // Utility parameters\r\n        this._drawing = false;\r\n        this._dragging = false;\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._previousPosition = {};\r\n        this._ctx = this._element.getContext(\"2d\");\r\n        this._mode = 'free';\r\n        this._ctx.fillStyle = this._backgroundColor;\r\n        this._ctx.fillRect(0, 0, this._element.width, this._element.height);\r\n        // Helpers\r\n        this._modes = [\r\n            'free',\r\n            'rect',\r\n            'eraser',\r\n            'line',\r\n        ];\r\n        this._undo = [];\r\n        this._undo.push(this._element.toDataURL());\r\n        this._redo = [];\r\n        // Listeners\r\n        const listeners = [\"onmousedown\", \"onmouseup\", \"onmousemove\", \"onmouseout\"];\r\n        listeners.forEach(listener => {\r\n            this._element.addEventListener(listener, e => this.listener(e));\r\n        });\r\n        this.addResizeListeners();\r\n        // Init paint\r\n        this.drawloop();\r\n        this.call(\"afterCreate\");\r\n\r\n    }\r\n\r\n    get hooks() {\r\n        return this._hooks;\r\n    }\r\n\r\n    set hooks(value) {\r\n        this._hooks = value;\r\n    }\r\n\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    set element(value) {\r\n        this._element = value;\r\n    }\r\n\r\n    get strokeStyle() {\r\n        return this._strokeStyle;\r\n    }\r\n\r\n    set strokeStyle(value) {\r\n        this._strokeStyle = value;\r\n    }\r\n\r\n    get linewidth() {\r\n        return this._linewidth;\r\n    }\r\n\r\n    set linewidth(value) {\r\n        this._linewidth = value;\r\n    }\r\n\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n\r\n    set mode(value) {\r\n        this._mode = value;\r\n    }\r\n\r\n    get modes() {\r\n        return this._modes;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.call(\"beforeResize\");\r\n        this.save();\r\n        const memory = document.createElement('canvas');\r\n        let memoryCtx = memory.getContext('2d');\r\n        memory.width = this._element.width;\r\n        memory.height = this._element.height;\r\n        memoryCtx.drawImage(this._element, 0, 0);\r\n        if (this.isset(width) && this.isset(height)) {\r\n            if (width <= 0 || height <= 0) {\r\n                console.error(\"Invalid parameters on resize()\");\r\n                return 0;\r\n            }\r\n            this._element.width = width;\r\n            this._element.height = height;\r\n            this._ctx.fillStyle = this._backgroundColor;\r\n            this._ctx.fillRect(0, 0, this._element.width, this._element.height);\r\n            this._ctx.drawImage(memory, 0, 0);\r\n            this.call(\"afterResize\");\r\n\r\n            return 1;\r\n        }\r\n        console.error(\"Parameter missing on resize()\");\r\n        return 0;\r\n    }\r\n\r\n    getMousePosition(event) {\r\n        this.call(\"beforeGetMousePosition\");\r\n        let rect = this._element.getBoundingClientRect();\r\n        let pos = {\r\n            x: event.clientX - rect.left,\r\n            y: event.clientY - rect.top\r\n        };\r\n        this.call(\"afterGetMousePosition\");\r\n        return pos;\r\n    }\r\n\r\n    listener(event) {\r\n        this.call(\"beforeListener\");\r\n        if (event.type === 'mouseout') {\r\n            this._drawing = false;\r\n        }\r\n        if (this._mode === 'line'\r\n            || this.mode === 'rect') {\r\n            if (event.type === 'mousedown') {\r\n                this._drawing = false;\r\n                this._previousPosition = this.getMousePosition(event);\r\n            } else if (event.type === 'mouseup') {\r\n                this.save();\r\n                this._drawing = true;\r\n                this._mousePosition = this.getMousePosition(event);\r\n            }\r\n        } else {\r\n            if (event.type === 'mousedown') {\r\n                this.save();\r\n                this._drawing = true;\r\n                this._previousPosition = this.getMousePosition(event);\r\n            } else if (event.type === 'mouseup') {\r\n                this._drawing = false;\r\n            } else if (event.type === 'mousemove') {\r\n                this._mousePosition = this.getMousePosition(event);\r\n            }\r\n        }\r\n        this.call(\"afterListener\");\r\n    }\r\n\r\n    render() {\r\n        this.call(\"beforeRender\");\r\n        if (this._drawing) {\r\n            if (this._mode === \"free\"\r\n                || this._mode === \"eraser\"\r\n                || this._mode === 'line') {\r\n                this._ctx.beginPath();\r\n                this._ctx.globalCompositeOperation = this._mode === \"eraser\" ? 'destination-out' : 'source-over';\r\n                this._ctx.strokeStyle = this._mode === \"eraser\" ? \"rgba(0,0,0,1)\" : this._strokeStyle;\r\n                this._ctx.lineWidth = this._linewidth;\r\n                this._ctx.lineCap = 'round';\r\n                this._ctx.moveTo(this._previousPosition.x, this._previousPosition.y);\r\n                this._ctx.lineTo(this._mousePosition.x, this._mousePosition.y);\r\n                this._ctx.stroke();\r\n                this._ctx.closePath();\r\n                this._previousPosition = this._mode === 'line' ? {} : this._mousePosition;\r\n            } else if (this._mode === \"rect\") {\r\n                this._ctx.beginPath();\r\n                this._ctx.fillStyle = this._strokeStyle;\r\n                const quadrant = {\r\n                    x: this._mousePosition.x < this._previousPosition.x\r\n                        ? this._mousePosition.x : this._previousPosition.x,\r\n                    y: this._mousePosition.y < this._previousPosition.y\r\n                        ? this._mousePosition.y : this._previousPosition.y\r\n                };\r\n                this._ctx.rect(\r\n                    quadrant.x,\r\n                    quadrant.y,\r\n                    Math.abs(this._mousePosition.x - this._previousPosition.x),\r\n                    Math.abs(this._mousePosition.y - this._previousPosition.y)\r\n                );\r\n                this._ctx.fill();\r\n                this._ctx.closePath();\r\n                this._drawing = false;\r\n            }\r\n        }\r\n        this.call(\"afterRender\");\r\n    }\r\n\r\n    drawloop() {\r\n        requestAnimationFrame(() => this.drawloop());\r\n        this.render();\r\n    }\r\n\r\n    reset() {\r\n        this.call(\"beforeReset\");\r\n        this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n        this._ctx.beginPath();\r\n        this._previousPosition = {x: 0, y: 0};\r\n        this._mousePosition = {x: 0, y: 0};\r\n        this._ctx.closePath();\r\n        this._undo = [];\r\n        this._redo = [];\r\n        this.call(\"afterReset\");\r\n    }\r\n\r\n    isset(parameter) {\r\n        return typeof parameter !== 'undefined';\r\n    }\r\n\r\n    // Much needed credits for undo/redo functionality https://codepen.io/abidibo/\r\n    save(list = this._undo, keepRedo = false) {\r\n        this.call(\"beforeSave\");\r\n        if (!keepRedo)\r\n            this._redo = [];\r\n        list.push(this._element.toDataURL());\r\n        this.call(\"afterSave\");\r\n    }\r\n\r\n    restore(pop, push, resize = false) {\r\n        this.call(\"beforeRestore\");\r\n        if (pop.length && !resize) {\r\n            this.save(push, true);\r\n            const reset = pop.pop();\r\n            let img = document.createElement('img');\r\n            img.src = reset;\r\n            img.onload = () => {\r\n                this._ctx.clearRect(0, 0, this._element.width, this._element.height);\r\n                this._ctx.beginPath();\r\n                this._ctx.closePath();\r\n                this._ctx.drawImage(img, 0, 0, this._element.width, this._element.height, 0, 0, this._element.width, this._element.height);\r\n            };\r\n        } else if (resize) {\r\n            while (pop.length > 1) {\r\n                pop.pop();\r\n            }\r\n            this.restore(pop, push);\r\n        }\r\n        this.call(\"afterRestore\");\r\n    }\r\n\r\n    undo() {\r\n        this.call(\"beforeUndo\");\r\n        this.restore(this._undo, this._redo);\r\n        this.call(\"afterUndo\");\r\n    }\r\n\r\n    redo() {\r\n        this.call(\"beforeRedo\");\r\n        this.restore(this._redo, this._undo);\r\n        this.call(\"afterRedo\");\r\n    }\r\n\r\n    export() {\r\n        this.call(\"beforeExport\");\r\n        window.location.href = this._element.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n        this.call(\"afterExport\");\r\n    }\r\n\r\n    addResizeListeners() {\r\n        this.call(\"beforeAddResizeListeners\");\r\n        document.onmousedown = e => {\r\n            let pos = this.getMousePosition(e);\r\n            if (pos.x >= this._element.width\r\n                && pos.x < this._element.width + 10\r\n                && pos.y >= this._element.height\r\n                && pos.y < this._element.height + 10) {\r\n                this._dragging = true;\r\n            }\r\n            this.listener(e);\r\n        };\r\n        document.onmouseup = e => {\r\n            if (!this._dragging) {\r\n                this.listener(e);\r\n                return;\r\n            }\r\n            this._dragging = false;\r\n            let pos = this.getMousePosition(e);\r\n            this.resize(pos.x, pos.y);\r\n        };\r\n        document.onmousemove = e => {\r\n            if (!this._dragging) {\r\n                this.listener(e);\r\n                return;\r\n            }\r\n            let pos = this.getMousePosition(e);\r\n            this.resize(pos.x, pos.y);\r\n        };\r\n        this.call(\"afterAddResizeListeners\");\r\n\r\n    }\r\n\r\n    call(hook) {\r\n        if(this.isset(this._hooks[hook]))\r\n            this._hooks[hook].callback(this._hooks[hook].args);\r\n    }\r\n}\r\n\r\nexport default Paint;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/paint.js","class DOM {\r\n    static _(selectors) {\r\n        let selectorType = 'querySelectorAll';\r\n        if (selectors.indexOf('#') === 0) {\r\n            selectorType = 'getElementById';\r\n            selectors = selectors.substr(1, selectors.length);\r\n        }\r\n        return document[selectorType](selectors);\r\n    }\r\n\r\n    static hasClass(el, className) {\r\n        return el.classList.contains(className);\r\n    }\r\n\r\n    static addClass(el, className) {\r\n        el.classList.add(className);\r\n    }\r\n\r\n    static removeClass(el, className) {\r\n        el.classList.remove(className);\r\n    }\r\n\r\n    static toggleClass(el, className) {\r\n        el.classList.toggle(className);\r\n    }\r\n}\r\n\r\nexport default DOM;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/DOM.js","export class Hook {\r\n    constructor(event, time, callback, args) {\r\n        this._event = event;\r\n        this._time = time;\r\n        this._callback = callback;\r\n        this._args = args;\r\n    }\r\n\r\n    get event() {\r\n        return this._event;\r\n    }\r\n\r\n    set event(value) {\r\n        this._event = value;\r\n    }\r\n\r\n    get time() {\r\n        return this._time;\r\n    }\r\n\r\n    set time(value) {\r\n        this._time = value;\r\n    }\r\n\r\n    get callback() {\r\n        return this._callback;\r\n    }\r\n\r\n    set callback(value) {\r\n        this._callback = value;\r\n    }\r\n\r\n    get args() {\r\n        return this._args;\r\n    }\r\n\r\n    set args(value) {\r\n        this._args = value;\r\n    }\r\n\r\n    hook(callback, args){\r\n        this._callback = callback;\r\n        this._args = args;\r\n    }\r\n}\r\n\r\nlet hooks = {};\r\nconst timings = [\"before\", \"after\"];\r\nconst events = [\r\n    \"Create\",\r\n    \"Resize\",\r\n    \"GetMousePosition\",\r\n    \"Listener\",\r\n    \"Render\",\r\n    \"Reset\",\r\n    \"Save\",\r\n    \"Restore\",\r\n    \"Undo\",\r\n    \"Redo\",\r\n    \"Export\",\r\n    \"AddResizeListeners\"\r\n];\r\ntimings.forEach(timing => {\r\n    events.forEach(event => hooks[timing + event] = new Hook(event, timing, () => {\r\n    }, []));\r\n});\r\nexport {hooks};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/hook.js"],"sourceRoot":""}